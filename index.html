<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>English → Conlang Dictionary</title>
  <style>
    :root { color-scheme: dark; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 0; padding: 24px; background:#0b0f17; color:#e8eefc; }
    h1 { margin: 0 0 10px; font-size: 22px; }
    .sub { opacity: .8; margin: 0 0 18px; }
    .row { display:flex; gap:12px; flex-wrap:wrap; align-items:center; margin-bottom: 14px; }
    input, select, button { background:#121a2a; color:#e8eefc; border:1px solid #24314d; border-radius:10px; padding:10px 12px; font-size:14px; }
    input { flex: 1 1 260px; }
    button { cursor:pointer; }
    button:hover { border-color:#3b4f7f; }
    .card { background:#0f1626; border:1px solid #24314d; border-radius:14px; padding:14px; margin-top: 14px; }
    table { width:100%; border-collapse: collapse; }
    th, td { text-align:left; padding:10px 8px; border-bottom:1px solid #1f2b44; vertical-align:top; }
    th { font-size:12px; letter-spacing:.08em; text-transform:uppercase; opacity:.8; }
    .pill { display:inline-block; padding:2px 10px; border:1px solid #2a3a5e; border-radius:999px; font-size:12px; opacity:.9; }
    .muted { opacity:.75; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
    .footer { margin-top:14px; opacity:.7; font-size:12px; }
    .right { text-align:right; }
    .tiny { font-size:12px; opacity:.8; }
  </style>
</head>
<body>
  <h1>Dictionary (English → Conlang)</h1>
  <p class="sub">Not a translator. Just a searchable, alphabetical lexicon.</p>

  <div class="row">
    <input id="q" type="search" placeholder="Search English (e.g., 'sleep') or conlang (e.g., 'nna')" autocomplete="off" />
    <select id="mode" aria-label="Search mode">
      <option value="both" selected>Search: English + Conlang</option>
      <option value="en">Search: English only</option>
      <option value="cl">Search: Conlang only</option>
    </select>
    <button id="clear">Clear</button>
  </div>

  <div class="row">
    <span class="pill">Sorted by: <span class="mono">English (A→Z)</span></span>
    <span class="pill">Entries: <span id="count" class="mono">0</span></span>
    <span class="pill">Showing: <span id="showing" class="mono">0</span></span>
  </div>

  <div class="card">
    <table>
      <thead>
        <tr>
          <th style="width:35%;">English</th>
          <th style="width:20%;">Conlang</th>
          <th>Notes</th>
          <th class="right" style="width:15%;">Tags</th>
        </tr>
      </thead>
      <tbody id="rows"></tbody>
    </table>
    <div class="footer tiny">
      Edit the <span class="mono">LEXICON</span> array in the code to add words (keep English A→Z).
    </div>
  </div>

<script>
  // ✅ Dictionary data (English alphabetical). Edit/add entries here.
  // Fields:
  //  - en: English headword (used for sorting)
  //  - cl: conlang word
  //  - notes: optional clarifications / usage
  //  - tags: array of categories
  const LEXICON = [
    { en: "after",  cl: "nra", notes: "", tags: ["time"] },
    { en: "and",    cl: "sap", notes: "Connector / conjunction.", tags: ["connector"] },
    { en: "bed",    cl: "ga",  notes: "", tags: ["object"] },
    { en: "before", cl: "poi", notes: "", tags: ["time"] },
    { en: "become / get", cl: "pwe", notes: "State-change verb.", tags: ["verb"] },
    { en: "dream",  cl: "nme", notes: "Can be used as verb or concept.", tags: ["mental"] },
    { en: "good",   cl: "ka",  notes: "", tags: ["state"] },
    { en: "he / she", cl: "ua", notes: "3rd person singular.", tags: ["pronoun"] },
    { en: "I / me", cl: "owa", notes: "1st person singular.", tags: ["pronoun"] },
    { en: "lay down", cl: "kwo", notes: "Verb.", tags: ["verb"] },
    { en: "night",  cl: "a",   notes: "", tags: ["time"] },
    { en: "no / not / negative", cl: "noa", notes: "Negation marker.", tags: ["grammar"] },
    { en: "pillow", cl: "teq", notes: "Pronounced 'tek'.", tags: ["object"] },
    { en: "question marker", cl: "uta", notes: "Sentence-final question particle.", tags: ["grammar"] },
    { en: "sleep",  cl: "nna", notes: "Verb.", tags: ["verb"] },
    { en: "they / you all", cl: "ena", notes: "Plural 3rd person / 'you all'.", tags: ["pronoun"] },
    { en: "tired",  cl: "jna", notes: "", tags: ["state"] },
    { en: "today",  cl: "ani", notes: "", tags: ["time"] },
    { en: "wake up", cl: "ba", notes: "Verb.", tags: ["verb"] },
    { en: "we",     cl: "vja", notes: "1st person plural.", tags: ["pronoun"] },
    { en: "wish",   cl: "lno", notes: "Verb.", tags: ["verb"] },
    { en: "you",    cl: "ma",  notes: "2nd person singular.", tags: ["pronoun"] },
  ];

  // --- App code (no frameworks) ---
  const q = document.getElementById("q");
  const mode = document.getElementById("mode");
  const clearBtn = document.getElementById("clear");
  const rowsEl = document.getElementById("rows");
  const countEl = document.getElementById("count");
  const showingEl = document.getElementById("showing");

  function normalize(s) {
    return (s ?? "")
      .toString()
      .trim()
      .toLowerCase();
  }

  function escapeHtml(str) {
    return (str ?? "").toString()
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;")
      .replaceAll('"',"&quot;")
      .replaceAll("'","&#039;");
  }

  function sortLexicon(list) {
    return [...list].sort((a,b) => a.en.localeCompare(b.en, "en", { sensitivity: "base" }));
  }

  function matches(entry, query, searchMode) {
    if (!query) return true;
    const en = normalize(entry.en);
    const cl = normalize(entry.cl);
    const notes = normalize(entry.notes);
    const tags = normalize((entry.tags || []).join(" "));
    if (searchMode === "en") return en.includes(query);
    if (searchMode === "cl") return cl.includes(query);
    // both:
    return en.includes(query) || cl.includes(query) || notes.includes(query) || tags.includes(query);
  }

  function render(list) {
    rowsEl.innerHTML = "";
    showingEl.textContent = String(list.length);

    if (list.length === 0) {
      rowsEl.innerHTML = `<tr><td colspan="4" class="muted">No matches.</td></tr>`;
      return;
    }

    for (const e of list) {
      const tags = (e.tags || []).map(t => `<span class="pill mono">${escapeHtml(t)}</span>`).join(" ");
      rowsEl.insertAdjacentHTML("beforeend", `
        <tr>
          <td><span class="mono">${escapeHtml(e.en)}</span></td>
          <td><span class="mono"><strong>${escapeHtml(e.cl)}</strong></span></td>
          <td class="muted">${escapeHtml(e.notes || "")}</td>
          <td class="right">${tags}</td>
        </tr>
      `);
    }
  }

  const sorted = sortLexicon(LEXICON);
  countEl.textContent = String(sorted.length);
  render(sorted);

  function update() {
    const query = normalize(q.value);
    const m = mode.value;
    const filtered = sorted.filter(e => matches(e, query, m));
    render(filtered);
  }

  q.addEventListener("input", update);
  mode.addEventListener("change", update);
  clearBtn.addEventListener("click", () => {
    q.value = "";
    mode.value = "both";
    update();
    q.focus();
  });
</script>
</body>
</html>